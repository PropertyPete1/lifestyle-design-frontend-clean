(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{681:(e,t,s)=>{Promise.resolve().then(s.bind(s,4004))},4004:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(5155),i=s(2115),l=s(6874),n=s.n(l);let o="https://lifestyle-design-backend-v2.onrender.com/api",c={async get(e){let t=await fetch("".concat(o).concat(e),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"});if(!t.ok)throw Error("API Error: ".concat(t.status));return await t.json()},async post(e,t){let s=await fetch("".concat(o).concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors"});if(!s.ok)throw Error("API Error: ".concat(s.status));return await s.json()}};function r(){let[e,t]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1),[o,r]=(0,i.useState)(null),[d,u]=(0,i.useState)([]),[m,p]=(0,i.useState)(!0),h=(0,i.useRef)(null),[g,x]=(0,i.useState)({maxPosts:3,postTime:"14:00",peakHours:!0,repostDelay:2,minViews:1e4,visualSimilarityDays:30,trendingAudio:!0,aiCaptions:!0,dropboxSave:!1,platforms:["instagram","youtube"]});(0,i.useEffect)(()=>{j(),v(),k("\uD83D\uDE80 Autopilot Dashboard loaded!","success");let e=e=>{"Escape"===e.key&&s&&b(),e.ctrlKey&&"s"===e.key&&(e.preventDefault(),D()),e.ctrlKey&&"q"===e.key&&(e.preventDefault(),b())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]);let v=async()=>{try{p(!0);let e=await c.get("/settings");e&&(x({maxPosts:e.maxPosts||3,postTime:e.postTime||"14:00",peakHours:!1!==e.peakHours,repostDelay:e.repostDelay||2,minViews:e.minViews||1e4,visualSimilarityDays:e.visualSimilarityDays||30,trendingAudio:!1!==e.trendingAudio,aiCaptions:!1!==e.aiCaptions,dropboxSave:e.dropboxSave||!1,platforms:[]}),t(e.autopilot||!1));let s=await c.get("/autopilot/status");s.success&&r(s.data);let a=await c.get("/scheduler/status");a.queuedVideos&&u(a.queuedVideos||[])}catch(e){console.error("❌ Failed to load autopilot data:",e),k("❌ Failed to load autopilot data","error")}finally{p(!1)}},j=()=>{if(h.current)for(let e=0;e<15;e++){let e=document.createElement("div");e.className="particle",e.style.left=100*Math.random()+"%",e.style.animationDelay=20*Math.random()+"s",e.style.animationDuration=15+10*Math.random()+"s",h.current.appendChild(e)}},b=()=>{l(!s),s?document.body.style.overflow="auto":(document.body.style.overflow="hidden",k("\uD83D\uDD01 Smart Queue opened","success"))},N=e=>{x(t=>({...t,[e]:!t[e]}));let t=!g[e];k("Setting ".concat(t?"enabled":"disabled"),"success")},y=e=>{x(t=>({...t,platforms:t.platforms.includes(e)?t.platforms.filter(t=>t!==e):[...t.platforms,e]}));let t=!g.platforms.includes(e);k("".concat(e," ").concat(t?"enabled":"disabled"),"success")},D=async()=>{try{console.log("Saving settings:",g),await c.post("/settings",{maxPosts:g.maxPosts,postTime:g.postTime,peakHours:g.peakHours,repostDelay:g.repostDelay,minViews:g.minViews,visualSimilarityDays:g.visualSimilarityDays,trendingAudio:g.trendingAudio,aiCaptions:g.aiCaptions,dropboxSave:g.dropboxSave,autopilot:e}),k("\uD83D\uDCBE Settings saved successfully!","success"),await v()}catch(e){console.error("❌ Failed to save settings:",e),k("❌ Failed to save settings","error")}},f=async()=>{try{k("\uD83D\uDCC5 Scheduling video for optimal posting time...","success");let e=await c.post("/autopost/run-now",{videoPath:"/temp/example-video.mp4",originalCaption:"Great lifestyle content!",platform:"instagram"});e.message?(k("✅ Video scheduled! ".concat(e.message),"success"),await v()):k("❌ Scheduling failed: ".concat(e.error||"Unknown error"),"error")}catch(e){console.error("❌ Scheduling failed:",e),k("❌ Scheduling failed","error")}},w=async()=>{try{k("\uD83D\uDE80 Posting all queued videos now...","success");let e=await c.post("/phase9/post-now",{});e.success?(k("✅ Posted ".concat(e.data.posted," videos successfully!"),"success"),await v()):k("❌ Posting failed","error")}catch(e){console.error("❌ Posting failed:",e),k("❌ Posting failed","error")}},C=async()=>{try{await c.post("/settings",{autopilot:!0}),t(!0),k("\uD83D\uDE80 Autopilot started successfully!","success"),await v()}catch(e){console.error("❌ Failed to start autopilot:",e),k("❌ Failed to start autopilot","error")}},S=async()=>{try{await c.post("/settings",{autopilot:!1}),t(!1),k("⏹️ Autopilot stopped","success"),await v()}catch(e){console.error("❌ Failed to stop autopilot:",e),k("❌ Failed to stop autopilot","error")}},k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";document.querySelectorAll(".notification").forEach(e=>e.remove());let s=document.createElement("div");s.className="notification ".concat(t),s.textContent=e,document.body.appendChild(s),setTimeout(()=>{s.style.animation="slideOut 0.3s ease",setTimeout(()=>s.remove(),300)},3e3)},A=(e,t)=>{x(s=>({...s,[e]:t}))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"floating-particles",ref:h}),(0,a.jsxs)("div",{className:"autopilot-container",children:[(0,a.jsx)(n(),{href:"/dashboard",className:"back-button",children:"← Back to Dashboard"}),(0,a.jsx)("div",{className:"queue-trigger",children:(0,a.jsx)("button",{className:"view-queue-btn",onClick:b,children:"\uD83D\uDD01 View Smart Queue"})}),(0,a.jsxs)("div",{className:"autopilot-header",children:[(0,a.jsx)("h1",{className:"autopilot-title",children:"\uD83D\uDE80 Autopilot Dashboard"}),(0,a.jsxs)("div",{className:"status-display",children:[(0,a.jsx)("div",{className:"status-indicator ".concat(e?"status-active":"status-paused")}),(0,a.jsx)("span",{children:e?"✅ Autopilot is Active":"❌ Autopilot is Paused"})]}),(0,a.jsxs)("div",{className:"status-details",children:[(0,a.jsxs)("span",{children:["Next post scheduled for ",(0,a.jsx)("strong",{children:(()=>{let e=new Date().getHours();for(let t of[{time:"8:00 AM",hour:8},{time:"12:00 PM",hour:12},{time:"5:00 PM",hour:17},{time:"8:00 PM",hour:20}])if(e<t.hour)return t.time;return"Tomorrow 8:00 AM"})()})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Posts remaining today: ",(0,a.jsx)("strong",{children:(()=>{let e=g.maxPosts||4,t=Math.max(0,e-((null==o?void 0:o.todayPosts)||0));return"".concat(t," of ").concat(e)})()})]})]})]}),(0,a.jsxs)("div",{className:"settings-panel",children:[(0,a.jsx)("h2",{className:"settings-title",children:"⚙️ Autopilot Settings"}),(0,a.jsxs)("div",{className:"settings-grid",children:[(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83D\uDCCA Max Posts Per Day"}),(0,a.jsx)("input",{type:"number",className:"setting-input",value:g.maxPosts,min:"1",max:"10",onChange:e=>A("maxPosts",parseInt(e.target.value))}),(0,a.jsx)("div",{className:"setting-description",children:"Maximum number of posts to publish daily"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83D\uDD50 Preferred Post Time"}),(0,a.jsx)("input",{type:"time",className:"setting-input",value:g.postTime,onChange:e=>A("postTime",e.target.value)}),(0,a.jsx)("div",{className:"setting-description",children:"Default time to schedule posts"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83C\uDFAF Peak Hour Targeting"}),(0,a.jsx)("div",{className:"toggle-switch ".concat(g.peakHours?"active":""),onClick:()=>N("peakHours"),children:(0,a.jsx)("div",{className:"toggle-slider"})}),(0,a.jsx)("div",{className:"setting-description",children:"Use AI to optimize post timing for maximum engagement"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83D\uDD04 Reposting Delay (Days)"}),(0,a.jsx)("input",{type:"number",className:"setting-input",value:g.repostDelay,min:"1",max:"30",onChange:e=>A("repostDelay",parseInt(e.target.value))}),(0,a.jsx)("div",{className:"setting-description",children:"Days to wait before reposting content"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83D\uDC40 Minimum IG Views to Repost"}),(0,a.jsx)("input",{type:"number",className:"setting-input",value:g.minViews,min:"1000",step:"1000",onChange:e=>A("minViews",parseInt(e.target.value))}),(0,a.jsx)("div",{className:"setting-description",children:"Minimum view count required for automatic reposting"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83C\uDFA8 Visual Similarity Protection (Days)"}),(0,a.jsx)("input",{type:"number",className:"setting-input",value:g.visualSimilarityDays,min:"7",max:"90",step:"1",onChange:e=>A("visualSimilarityDays",parseInt(e.target.value))}),(0,a.jsxs)("div",{className:"setting-description",children:["Days to avoid visually similar content (currently ",g.visualSimilarityDays," days)"]})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83C\uDFB5 Attach Trending Audio"}),(0,a.jsx)("div",{className:"toggle-switch ".concat(g.trendingAudio?"active":""),onClick:()=>N("trendingAudio"),children:(0,a.jsx)("div",{className:"toggle-slider"})}),(0,a.jsx)("div",{className:"setting-description",children:"Automatically add trending audio to video posts"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83E\uDD16 Rewrite Captions with AI"}),(0,a.jsx)("div",{className:"toggle-switch ".concat(g.aiCaptions?"active":""),onClick:()=>N("aiCaptions"),children:(0,a.jsx)("div",{className:"toggle-slider"})}),(0,a.jsx)("div",{className:"setting-description",children:"Use AI to optimize captions for better engagement"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83D\uDCBE Save All to Dropbox"}),(0,a.jsx)("div",{className:"toggle-switch ".concat(g.dropboxSave?"active":""),onClick:()=>N("dropboxSave"),children:(0,a.jsx)("div",{className:"toggle-slider"})}),(0,a.jsx)("div",{className:"setting-description",children:"Automatically backup all content to Dropbox"})]}),(0,a.jsxs)("div",{className:"setting-item",children:[(0,a.jsx)("label",{className:"setting-label",children:"\uD83D\uDCF1 Platform Scope"}),(0,a.jsxs)("div",{className:"multi-select",children:[(0,a.jsx)("div",{className:"platform-chip ".concat(g.platforms.includes("instagram")?"selected":""),onClick:()=>y("instagram"),children:"\uD83D\uDCF7 Instagram"}),(0,a.jsx)("div",{className:"platform-chip ".concat(g.platforms.includes("youtube")?"selected":""),onClick:()=>y("youtube"),children:"▶️ YouTube"})]}),(0,a.jsx)("div",{className:"setting-description",children:"Select which platforms to include in automation"})]})]}),(0,a.jsxs)("div",{className:"action-buttons",children:[(0,a.jsx)("button",{className:"action-btn btn-save",onClick:D,children:"\uD83D\uDCBE Save Autopilot Settings"}),(0,a.jsx)("button",{className:"action-btn btn-run",onClick:f,children:"\uD83D\uDD04 Run Now"}),e?(0,a.jsx)("button",{className:"action-btn btn-stop",onClick:S,children:"⏹️ Stop Autopilot"}):(0,a.jsx)("button",{className:"action-btn btn-start",onClick:C,children:"▶️ Start Autopilot"})]})]})]}),(0,a.jsx)("div",{className:"queue-overlay ".concat(s?"show":""),onClick:b}),(0,a.jsxs)("div",{className:"queue-drawer ".concat(s?"open":""),children:[(0,a.jsxs)("div",{className:"queue-header",children:[(0,a.jsx)("h2",{className:"queue-title",children:"\uD83D\uDD01 Smart Autopilot Queue"}),(0,a.jsx)("p",{className:"queue-subtitle",children:"AI-optimized videos ready for automatic posting"}),(0,a.jsx)("button",{className:"close-queue",onClick:b,children:"\xd7"})]}),(0,a.jsxs)("div",{className:"queue-content",children:[m?(0,a.jsxs)("div",{className:"loading-state",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"3rem",color:"#64748b"},children:[(0,a.jsx)("div",{className:"loading-spinner",style:{width:"40px",height:"40px",border:"3px solid #f3f4f6",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),(0,a.jsx)("p",{style:{margin:0,fontSize:"16px"},children:"Loading queue..."})]}):0===d.length?(0,a.jsxs)("div",{className:"empty-state",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"3rem",textAlign:"center",color:"#64748b"},children:[(0,a.jsx)("div",{className:"empty-icon",style:{fontSize:"4rem",marginBottom:"1rem"},children:"\uD83D\uDCED"}),(0,a.jsx)("h3",{style:{margin:"0 0 0.5rem 0",color:"#1f2937"},children:"No videos in queue"}),(0,a.jsx)("p",{style:{margin:0,fontSize:"16px"},children:"Run autopilot to populate the queue with optimized content"})]}):d.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"video-card",children:[(0,a.jsxs)("div",{className:"video-preview",style:{backgroundImage:e.thumbnailUrl?"url(".concat(e.thumbnailUrl,")"):"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundSize:"cover",backgroundPosition:"center",width:"100px",height:"180px",borderRadius:"8px",position:"relative",border:"2px solid #2d3748"},children:[(0,a.jsx)("div",{className:"play-overlay",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"24px",textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"▶"}),!e.thumbnailUrl&&(0,a.jsxs)("div",{style:{position:"absolute",bottom:"8px",left:"8px",right:"8px",color:"white",fontSize:"12px",textAlign:"center",textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:["instagram"===e.platform?"\uD83D\uDCF7":"▶️"," ",e.platform]})]}),(0,a.jsxs)("div",{className:"video-caption",children:[(0,a.jsx)("div",{className:"caption-label",children:"\uD83E\uDD16 AI-Generated Caption"}),(0,a.jsx)("div",{className:"caption-text",children:e.newCaption?e.newCaption.length>200?"".concat(e.newCaption.substring(0,200),"..."):e.newCaption:"No caption available"})]}),(0,a.jsxs)("div",{className:"hashtags-section",children:[(0,a.jsxs)("div",{className:"caption-label",children:["\uD83C\uDFF7️ Optimized Hashtags (",(null==(s=e.hashtags)?void 0:s.length)||0,")"]}),(0,a.jsx)("div",{className:"hashtags-container",children:(e.hashtags||[]).slice(0,20).map((e,t)=>(0,a.jsxs)("span",{className:"hashtag",children:["#",e]},t))||(0,a.jsx)("span",{className:"hashtag-placeholder",children:"No hashtags"})})]}),(0,a.jsxs)("div",{className:"video-metadata",children:[(0,a.jsxs)("div",{className:"metadata-item",children:[(0,a.jsx)("div",{className:"metadata-label",children:"\uD83C\uDFB5 Trending Audio"}),(0,a.jsxs)("div",{className:"trending-audio",children:[(0,a.jsx)("div",{className:"audio-icon",children:"♪"}),(0,a.jsx)("span",{children:e.audioId?e.audioId.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"No audio selected"})]})]}),(0,a.jsxs)("div",{className:"metadata-item",children:[(0,a.jsx)("div",{className:"metadata-label",children:"\uD83D\uDCF1 Platform"}),(0,a.jsxs)("div",{className:"platform-badges",children:["instagram"===e.targetPlatform&&(0,a.jsx)("span",{className:"platform-badge badge-instagram",children:"\uD83D\uDCF7 Instagram"}),"youtube"===e.targetPlatform&&(0,a.jsx)("span",{className:"platform-badge badge-youtube",children:"▶️ YouTube"})]})]}),(0,a.jsxs)("div",{className:"metadata-item",children:[(0,a.jsx)("div",{className:"metadata-label",children:"⏰ Scheduled Time"}),(0,a.jsx)("div",{className:"metadata-value",children:e.scheduledFor?new Date(e.scheduledFor).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})+" (Peak Hour)":"Not scheduled"})]}),(0,a.jsxs)("div",{className:"metadata-item",children:[(0,a.jsx)("div",{className:"metadata-label",children:"\uD83D\uDCCA Status"}),(0,a.jsx)("span",{className:"status-badge status-".concat(e.status||"unknown"),children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"Unknown"})]})]})]},e._id||t)}),d.length>0&&(0,a.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,a.jsx)("button",{className:"action-btn btn-run",onClick:w,children:"\uD83D\uDE80 Post Now"}),(0,a.jsx)("div",{style:{marginTop:"10px",fontSize:"14px",color:"#666"},children:"This will immediately post all queued videos to their platforms"})]}),(0,a.jsx)("div",{className:"ai-note",children:(0,a.jsx)("p",{className:"ai-note-text",children:"All scheduling, captioning, and audio are optimized by AI using peak engagement trends and platform algorithms."})})]})]})]})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=681)),_N_E=e.O()}]);